(function(){var n,e,t,i,r,o,u;i=function(n,e){var t,i,r,o;o=[];for(i in e.prototype)try{r=e.prototype[i],o.push(null==n[i]&&"function"!=typeof r?n[i]=r:void 0)}catch(u){t=u}return o},n={},null==n.options&&(n.options={}),t={checks:{xhr:{url:function(){return"/favicon.ico?_="+Math.floor(1e9*Math.random())},timeout:5e3},image:{url:function(){return"/favicon.ico?_="+Math.floor(1e9*Math.random())}},active:"xhr"},checkOnLoad:!1,interceptRequests:!0,reconnect:!0},r=function(n,e){var t,i,r,o,u,f;for(t=n,o=e.split("."),i=u=0,f=o.length;f>u&&(r=o[i],t=t[r],"object"==typeof t);i=++u);return i===o.length-1?t:void 0},n.getOption=function(e){var i,o;return i=null!=(o=r(n.options,e))?o:r(t,e),"function"==typeof i?i():i},"function"==typeof window.addEventListener&&window.addEventListener("online",function(){return setTimeout(n.confirmUp,100)},!1),"function"==typeof window.addEventListener&&window.addEventListener("offline",function(){return n.confirmDown()},!1),n.state="up",n.markUp=function(){return n.trigger("confirmed-up"),"up"!==n.state?(n.state="up",n.trigger("up")):void 0},n.markDown=function(){return n.trigger("confirmed-down"),"down"!==n.state?(n.state="down",n.trigger("down")):void 0},o={},n.on=function(e,t,i){var r,u,f,c,l;if(u=e.split(" "),u.length>1){for(l=[],f=0,c=u.length;c>f;f++)r=u[f],l.push(n.on(r,t,i));return l}return null==o[e]&&(o[e]=[]),o[e].push([i,t])},n.off=function(n,e){var t,i,r,u,f;if(null!=o[n]){if(e){for(i=0,f=[];i<o[n].length;)u=o[n][i],t=u[0],r=u[1],f.push(r===e?o[n].splice(i,1):i++);return f}return o[n]=[]}},n.trigger=function(n){var e,t,i,r,u,f,c;if(null!=o[n]){for(u=o[n],c=[],i=0,r=u.length;r>i;i++)f=u[i],e=f[0],t=f[1],c.push(t.call(e));return c}},e=function(n,e,t){var i,r,o,u,f;return i=function(){return n.status&&n.status<12e3?e():t()},null===n.onprogress?(r=n.onerror,n.onerror=function(){return t(),"function"==typeof r?r.apply(null,arguments):void 0},f=n.ontimeout,n.ontimeout=function(){return t(),"function"==typeof f?f.apply(null,arguments):void 0},o=n.onload,n.onload=function(){return i(),"function"==typeof o?o.apply(null,arguments):void 0}):(u=n.onreadystatechange,n.onreadystatechange=function(){return 4===n.readyState?i():0===n.readyState&&t(),"function"==typeof u?u.apply(null,arguments):void 0})},n.checks={},n.checks.xhr=function(){var t,i;i=new XMLHttpRequest,i.offline=!1,i.open("HEAD",n.getOption("checks.xhr.url"),!0),null!=i.timeout&&(i.timeout=n.getOption("checks.xhr.timeout")),e(i,n.markUp,n.markDown);try{i.send()}catch(r){t=r,n.markDown()}return i},n.checks.image=function(){var e;return e=document.createElement("img"),e.onerror=n.markDown,e.onload=n.markUp,void(e.src=n.getOption("checks.image.url"))},n.checks.down=n.markDown,n.checks.up=n.markUp,n.check=function(){return n.trigger("checking"),n.checks[n.getOption("checks.active")]()},n.confirmUp=n.confirmDown=n.check,n.onXHR=function(n){var e,t,r;return e=function(e,t){var i;return i=e.open,e.open=function(r,o,u,f,c){return n({type:r,url:o,async:u,flags:t,user:f,password:c,xhr:e}),i.apply(e,arguments)}},r=window.XMLHttpRequest,window.XMLHttpRequest=function(n){var t,i,o;return t=new r(n),e(t,n),o=t.setRequestHeader,t.headers={},t.setRequestHeader=function(n,e){return t.headers[n]=e,o.call(t,n,e)},i=t.overrideMimeType,t.overrideMimeType=function(n){return t.mimeType=n,i.call(t,n)},t},i(window.XMLHttpRequest,r),null!=window.XDomainRequest?(t=window.XDomainRequest,window.XDomainRequest=function(){var n;return n=new t,e(n),n},i(window.XDomainRequest,t)):void 0},u=function(){return n.getOption("interceptRequests")&&n.onXHR(function(t){var i;return i=t.xhr,i.offline!==!1?e(i,n.confirmUp,n.confirmDown):void 0}),n.getOption("checkOnLoad")?n.check():void 0},setTimeout(u,0),window.Offline=n}).call(this),function(){var n,e,t,i,r,o,u,f,c;if(!window.Offline)throw new Error("Offline Reconnect brought in without offline.js");i=Offline.reconnect={},o=null,r=function(){var n;return null!=i.state&&"inactive"!==i.state&&Offline.trigger("reconnect:stopped"),i.state="inactive",i.remaining=i.delay=null!=(n=Offline.getOption("reconnect.initialDelay"))?n:3},e=function(){var n,e;return n=null!=(e=Offline.getOption("reconnect.delay"))?e:Math.min(Math.ceil(1.5*i.delay),3600),i.remaining=i.delay=n},u=function(){return"connecting"!==i.state?(i.remaining-=1,Offline.trigger("reconnect:tick"),0===i.remaining?f():void 0):void 0},f=function(){return"waiting"===i.state?(Offline.trigger("reconnect:connecting"),i.state="connecting",Offline.check()):void 0},n=function(){return Offline.getOption("reconnect")?(r(),i.state="waiting",Offline.trigger("reconnect:started"),o=setInterval(u,1e3)):void 0},c=function(){return null!=o&&clearInterval(o),r()},t=function(){return Offline.getOption("reconnect")&&"connecting"===i.state?(Offline.trigger("reconnect:failure"),i.state="waiting",e()):void 0},i.tryNow=f,r(),Offline.on("down",n),Offline.on("confirmed-down",t),Offline.on("up",c)}.call(this),function(){var n,e,t,i,r,o;if(!window.Offline)throw new Error("Requests module brought in without offline.js");t=[],o=!1,i=function(n){return Offline.trigger("requests:capture"),"down"!==Offline.state&&(o=!0),t.push(n)},r=function(n){var e,t,i,r,o,u,f,c,l;c=n.xhr,o=n.url,r=n.type,u=n.user,i=n.password,e=n.body,c.abort(),c.open(r,o,!0,u,i),l=c.headers;for(t in l)f=l[t],c.setRequestHeader(t,f);return c.mimeType&&c.overrideMimeType(c.mimeType),c.send(e)},n=function(){return t=[]},e=function(){var e,i,o,u,f,c;for(Offline.trigger("requests:flush"),o={},f=0,c=t.length;c>f;f++)i=t[f],u=i.url.replace(/(\?|&)_=[0-9]+/,function(n,e){return"?"===e?e:""}),o[""+i.type.toUpperCase()+" - "+u]=i;for(e in o)i=o[e],r(i);return n()},setTimeout(function(){return Offline.getOption("requests")!==!1?(Offline.on("confirmed-up",function(){return o?(o=!1,n()):void 0}),Offline.on("up",e),Offline.on("down",function(){return o=!1}),Offline.onXHR(function(n){var e,t,r,o,u;return r=n.xhr,e=n.async,r.offline!==!1&&(t=function(){return i(n)},u=r.send,r.send=function(e){return n.body=e,u.apply(r,arguments)},e)?null===r.onprogress?(r.addEventListener("error",t,!1),r.addEventListener("timeout",t,!1)):(o=r.onreadystatechange,r.onreadystatechange=function(){return 0===r.readyState?t():4===r.readyState&&(0===r.status||r.status>=12e3)&&t(),"function"==typeof o?o.apply(null,arguments):void 0}):void 0}),Offline.requests={flush:e,clear:n}):void 0},0)}.call(this),function(){var n,e,t,i,r;if(!Offline)throw new Error("Offline simulate brought in without offline.js");for(r=["up","down"],t=0,i=r.length;i>t;t++)n=r[t],(document.querySelector("script[data-simulate='"+n+"']")||localStorage.OFFLINE_SIMULATE===n)&&(null==Offline.options&&(Offline.options={}),null==(e=Offline.options).checks&&(e.checks={}),Offline.options.checks.active=n)}.call(this),function(){var n,e,t,i,r,o,u,f,c,l,a,s,d;if(!window.Offline)throw new Error("Offline UI brought in without offline.js");e='<div class="offline-ui"><div class="offline-ui-content"></div></div>',n='<a href class="offline-ui-retry"></a>',r=function(n){var e;return e=document.createElement("div"),e.innerHTML=n,e.children[0]},o=i=null,t=function(n){return l(n),o.className+=" "+n},l=function(n){return o.className=o.className.replace(new RegExp("(^| )"+n.split(" ").join("|")+"( |$)","gi")," ")},f={},u=function(n,e){return t(n),null!=f[n]&&clearTimeout(f[n]),f[n]=setTimeout(function(){return l(n),delete f[n]},1e3*e)},s=function(n){var e,t,i,r;i={day:86400,hour:3600,minute:60,second:1};for(t in i)if(e=i[t],n>=e)return r=Math.floor(n/e),[r,t];return["now",""]},a=function(){var u,f;return o=r(e),document.body.appendChild(o),null!=Offline.reconnect&&Offline.getOption("reconnect")&&(o.appendChild(r(n)),u=o.querySelector(".offline-ui-retry"),f=function(n){return n.preventDefault(),Offline.reconnect.tryNow()},null!=u.addEventListener?u.addEventListener("click",f,!1):u.attachEvent("click",f)),t("offline-ui-"+Offline.state),i=o.querySelector(".offline-ui-content")},c=function(){return a(),Offline.on("up",function(){return l("offline-ui-down"),t("offline-ui-up"),u("offline-ui-up-2s",2),u("offline-ui-up-5s",5)}),Offline.on("down",function(){return l("offline-ui-up"),t("offline-ui-down"),u("offline-ui-down-2s",2),u("offline-ui-down-5s",5)}),Offline.on("reconnect:connecting",function(){return t("offline-ui-connecting"),l("offline-ui-waiting")}),Offline.on("reconnect:tick",function(){var n,e,r;return t("offline-ui-waiting"),l("offline-ui-connecting"),r=s(Offline.reconnect.remaining),n=r[0],e=r[1],i.setAttribute("data-retry-in-value",n),i.setAttribute("data-retry-in-unit",e)}),Offline.on("reconnect:stopped",function(){return l("offline-ui-connecting offline-ui-waiting"),i.setAttribute("data-retry-in-value",null),i.setAttribute("data-retry-in-unit",null)}),Offline.on("reconnect:failure",function(){return u("offline-ui-reconnect-failed-2s",2),u("offline-ui-reconnect-failed-5s",5)}),Offline.on("reconnect:success",function(){return u("offline-ui-reconnect-succeeded-2s",2),u("offline-ui-reconnect-succeeded-5s",5)})},"complete"===document.readyState?c():null!=document.addEventListener?document.addEventListener("DOMContentLoaded",c,!1):(d=document.onreadystatechange,document.onreadystatechange=function(){return"complete"===document.readyState&&c(),"function"==typeof d?d.apply(null,arguments):void 0})}.call(this),Offline.options={checks:{xhr:{url:"/images/iconb1.png"}}};