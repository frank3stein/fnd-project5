// Questions
//
// 1
/*
In this example when the markers are clicked on the map infowindow opens and stays does
not close

*/
function onClick(map, marker, infowindow){
  return function(){
  google.maps.event.addListener(marker, 'click', (function(map, marker) {
  return function(){
  console.log(this.position);
  map.setCenter(this.position);
  infowindow.open(map, this);};
})(map, marker));
};
}

function setMarkers(map, locations) {

  for (var i = 0; i < locations.length; i++) {
    var beach = locations[i];
    var myLatLng = new google.maps.LatLng(beach[1], beach[2]);
    var infowindow = new google.maps.InfoWindow({
    content: "<p>'+beach[i]+'</p>"
    });
    var marker = new google.maps.Marker({
        position: myLatLng,
        map: map,
        // icon: image,
        // shape: shape,
        title: beach[0],
        zIndex: beach[3]
    });
      mapMarkers.push(marker);
      console.log(mapMarkers);
      onClick(map, marker, infowindow);

    }


}




/*Example 2
Here the infowindow opens just for one. And closes and opens with each click.
What is the difference, map marker infowindow is passed in to the onClick function.
*/

function setMarkers(map, locations) {

  for (var i = 0; i < locations.length; i++) {
    var beach = locations[i];
    var myLatLng = new google.maps.LatLng(beach[1], beach[2]);
    var infowindow = new google.maps.InfoWindow({
    content: "<p>'+beach[i]+'</p>"
    });
    var marker = new google.maps.Marker({
        position: myLatLng,
        map: map,
        // icon: image,
        // shape: shape,
        title: beach[0],
        zIndex: beach[3]
    });
      mapMarkers.push(marker);
      console.log(mapMarkers);
      google.maps.event.addListener(marker, 'click', (function(map, marker) {
      return function(){
      console.log(marker.position);
      map.setCenter(marker.position);
      infowindow.open(map, marker);};
    })(map, marker));

    }


}
